<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>


    <link rel="stylesheet" type="text/css" href="CSSSheet.css">

    <script src='https://cdn.firebase.com/js/client/2.2.4/firebase.js'></script>

  </head>

  <body>   

    <header>
      <div id="image">
        <img id="logo" src="defaultlogo.png/" alt="Cards Against Humanity" style="width:150px; height:135px;">
      </div>
      <div id ='title'q>
        <h1><b>Cards Against University</b></h1>
      </div>

    </header>

    <aside>

      <ul>
          <figure>
            <img src="player1.jpeg" alt="Player 1" width="80" height="100">
            <figcaption>Player 1</figcaption>
          </figure>

          <figure>
            <img src="player2.jpeg" alt="Player 2" width="80" height="100">
            <figcaption>Player 2</figcaption>
          </figure>

          <figure>
            <img src="player3.jpeg" alt="Player 3" width="80" height="100">
            <figcaption>Player 3</figcaption>
          </figure>

          <figure>
            <img src="player4.jpeg" alt="Player 4" width="80" height="100">
            <figcaption>Player 4</figcaption>
          </figure>
        </ul>

    </aside>

    <section>

      <center>
        <div id='timer'>
        </div> 
        <div class="blackscenario">
          <img src="blackscenariocard.jpeg" alt="Black Scenario Card Goes Here" id="black" width="250" height="300">
        </div>
      </center>
    </section>

    <section onload="eventListener()">
      <table id="whitecards">
        <tr>
          <th>
              <img src="whitecardimg.jpeg" id="image2" value="2" alt="White Card Goes Here" width="235" height="300">
                
          </th>

          <th>
              <img src="whitecardimg.jpeg" id="image2" value="2" alt="White Card Goes Here" width="235" height="300">
                
          </th>

          <th>
              <img src="whitecardimg.jpeg" id="image3" value="3" alt="White Card Goes Here" width="235" height="300">
              
          </th>

          <th>
              <img src="whitecardimg.jpeg" id="image4" value="4" alt="White Card Goes Here" width="235" height="300">
      
          </th>

          <th>
              <img src="whitecardimg.jpeg" id="image5" value="5" alt="White Card Goes Here" width="235" height="300">
              
          </th>
        </tr>
        </table>
    </section>
    
    <section>
      <table>
        <tr>
          <th>Number scenario card</th>
        </tr>
        <tr>
          <td></td>
        </tr>
        <tr>
          <td></td>
        </tr>
        <tr>
          <td></td>
        </tr>
        <tr>
          <td></td>
        </tr>
        <tr>
          <td></td>
        </tr>
      </table>
    </section>

      
    <section>

      <center>

        <button class="submitbutton">Submit</button>

      </center>

    </section>

   

  <footer>

      <p>Â© 2016 created by: Michael Heneghan</p>
      
  </footer>

  <script>  // Countdown timer
      /* var timeLeft = 30;
      var elem = document.getElementById('timer');

      var timerId = setInterval(countdown, 1000);

      function countdown() {
        if (timeLeft == 0) {
          clearTimeout(timerId);
          alert("Times up!")
        } else {
          elem.innerHTML = timeLeft + ' seconds remaining';
          timeLeft--;
        }
      }

      var cardChosen = "";
      
      image1.onclick = userChoice;

      
      function userChoice(){
        cardChosen = document.getElementById('image1').value;
        console.log(cardChosen);
      }*

  </script>

  <script>

    var rndBCard = "/card" + Math.floor((Math.random() * 6) + 1);
    
    var scenarioCard = ""; 
    var whiteCard1 = "";
    var whiteCard2 = "";
    var whiteCard3 = "";
    var whiteCard4 = "";
    var whiteCard5 = "";

    
        
        var ref = new Firebase("https://cau-maynooth.firebaseio.com/blackCards" + rndBCard);

      // Attach an asynchronous callback to read the card data from database 
        ref.on("value", function(snapshot) { 
          // Assign to scenario card to place in HTML
          scenarioCard = snapshot.val();

        }, 

        function (errorObject) { // Deal with errors
          console.log("The read failed: " + errorObject.code);
        });
      
        // Call all table data tags and save in variable

        var elements = document.getElementsByTagName('td');
        // Loop through each tag and place a card in HTML
        for(var i = 0; i < elements.length; i++){
          // Generate a random number 
          var rndWCard = "/card" + Math.floor((Math.random() * 6) + 1);
          // Get a database reference to our cards with random number appended to end of path
          var ref = new Firebase("https://cau-maynooth.firebaseio.com/whiteCards" + rndWCard);
          // Attach an asynchronous callback to read the card data from database 
          ref.on("value", function(element) {
            return function(snapshot){
              // Print to console for development purposes
              console.log(snapshot.val()); 
              // Assign card to each element in the table
              elements.innerHTML = snapshot.val();
            }
           }(elements[i]),
            function (errorObject) {  // Deal with errors
              console.log("The read failed: " + errorObject.code);
            });            
        } 
        

  </script>


</body>   
  
</html>
