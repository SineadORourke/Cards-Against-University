<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    

    <title>Result</title>
	<link rel="stylesheet" href="cauStyle.css">

	<!-- Firebase library -->
    <script src='https://cdn.firebase.com/js/client/2.4.1/firebase.js'></script>
	
	<!--Links for Bootstrap-->
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  
	</head>
	
	
	

<body data-spy="scroll" data-target=".navbar" data-offset="50" id="main"> 

	<!-- Navigation Bar
    ================================================== -->
	<nav class="navbar navbar-inverse" data-spy="affix" data-offset-top="197" id="navigationColour">
		<div class="container-fluid">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>                        
				</button>
				<img src="defaultlogo.png" alt="logo" id="Logo">
				<p class="navbar-brand">Cards Against University : Results</p>
			</div>
			<div>
				<div class="collapse navbar-collapse" id="myNavbar">
					<!-- Navigation options centered -->
					<ul class="nav navbar-nav">
						<li><a href="main.html">Home</a></li>
						<li><a href="gameInPlay.html">Play Again</a></li>
						<li><a href="#">Leaderboard</a></li>
					</ul>
					<!-- Navigation option to the right -->
					<ul class="nav navbar-nav navbar-right">
						<li class="dropdown" id="profile"><a class="dropdown-toggle" data-toggle="dropdown" href="#">Profile <span class="caret"></span></a>
							<ul class="dropdown-menu">
								<li><a href="#">Personal Stats</a></li>
								<li><a href="#">Log-out</a></li>
							</ul>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</nav><!-- ./navigation Bar -->    

	
	
	
	<!-- Winner + Runner-up Table (inside responsive container)
    ================================================== -->
	<div class="container-fluid">
		<!--Winner-->
		<div class="col-sm-6" id="leftResult">
			<h1 id="winner">Winner!</h1>
			<img src="defaultplayer.png" alt "Default Logo" width="350" height="350">
			<p>Winning username</p>
			<p><i><b><span id="winSub"> </span></b></i></p>
		</div>
	
		<!--Table with the rest of the players + their submissions -->                                                                          
		<div class="table-responsive col-sm-6" id="rightResult">          
			<table class="table" id="resultTable">
				<tbody>
					<tr id="resultRow">
						<td id="resultData">2.</td>
						<td id="resultData"><img src="defaultplayer.png" alt "Default Logo" width="50" height="50"></td>
						<td id="resultData"><div style='width: 100px;'>User2</div></td>
						<td id="resultData"><div style='width: 150px;'>User2 submission</div></td>
						<td id="resultData">Votes</td>
					</tr>
					<tr id="resultRow">
						<td id="resultData"> 3.</td>
						<td id="resultData"><img src="defaultplayer.png" alt "Default Logo" width="50" height="50"></td>
						<td id="resultData"><div style='width: 100px;'>User3</div></td>
						<td id="resultData"><div style='width: 150px;'>User3 submission</div></td>
						<td id="resultData">Votes</td>
					</tr>
					<tr id="resultRow">
						<td id="resultData"> 4.</td>
						<td id="resultData"><img src="defaultplayer.png" alt "Default Logo" width="50" height="50"></td>
						<td id="resultData"><div style='width: 100px;'>User4</div></td>
						<td id="resultData"><div style='width: 150px;'>User4 submission</div></td>
						<td id="resultData">Votes</td>
					</tr>
					<tr id="resultRow">
						<td id="resultData"> 5.</td>
						<td id="resultData"><img src="defaultplayer.png" alt "Default Logo" width="50" height="50"></td>
						<td id="resultData"><div style='width: 100px;'>User5</div></td>
						<td id="resultData"><div style='width: 150px;'>User5 submission</div></td>
						<td id="resultData">Votes</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div><!-- ./winner + runner-up table -->



	
	
	 <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="../../dist/js/bootstrap.min.js"></script>
    <script src="../../assets/js/vendor/holder.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>
    <script>
    var ref = new Firebase("https://cau-maynooth.firebaseio.com/Judging/votes/vote"); // firebase address for votes.
    var winSent; // this variable will store the value of the snapshot.

    ref.on("value", function(snapshot) {
        //console.log(snapshot.val());
        winSent = snapshot.val(); 
        document.getElementById("winSub").textContent = winSent; // set the text of the winner's submission equal to that in the votes database.
    }, function (errorObject) {
            console.log("The read failed: " + errorObject.code);
    });

    </script>

  </body>
</html>